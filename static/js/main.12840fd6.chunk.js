(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},109:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){e.exports=a.p+"static/media/trial.24867704.mp4"},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(59),i=a.n(s),c=(a(70),a(36)),o=a(8),l=a(2),u=a(3),m=a(5),h=a(4),p=a(6),d=a(64),v=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e={fontSize:this.props.size+"pt",color:this.props.color},t={position:"absolute"};switch(this.props.position){case"top-left":t.top=0,t.left=0;break;case"top-right":t.top=0,t.right=0;break;case"bottom-left":t.bottom=0,t.left=0;break;case"bottom-right":t.bottom=0,t.right=0}return r.a.createElement("span",{className:this.props.display?"notify-icon":"hide",style:t},r.a.createElement("i",{className:"fa fa-circle ",style:e}," "))}}]),t}(r.a.Component),f=a(1),g=a.n(f),b=a(63),y=a(16),E=a.n(y),C=(a(106),a(107),a(108),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onSearchInput=function(e){var t=e.target.value;a.props.onSearch(t)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"chat-search-bar"},r.a.createElement("div",{className:"chat-search-wrapper"},r.a.createElement("div",{className:"chat-search-icon"},r.a.createElement("i",{className:"fa fa-search"}," ")),r.a.createElement("div",{className:"chat-search-input"},r.a.createElement("input",{type:"text",onChange:this.onSearchInput}))))}}]),t}(r.a.Component)),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).getStatusWithTimestamp=function(){var e=a.props.time;return new Date(e).toDateString()},a.getOnlineStatus=function(){var e=a.props.time;return Date.now()-e<5e3},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){e.forceUpdate()}),2500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e="";return this.props.currentChatId===this.props.id&&(e="current"),r.a.createElement("div",{className:"chat-list-item ".concat(e),onClick:this.props.updateCurrentChat},r.a.createElement("div",{className:"chat-list-item-image"},r.a.createElement("img",{src:this.props.avatar,alt:""}),this.getOnlineStatus()?r.a.createElement(v,{size:"8",position:"bottom-right",color:"lawngreen"}):null),r.a.createElement("div",{className:"chat-list-item-info"},r.a.createElement("div",{className:"chat-list-item-name"},this.props.name),r.a.createElement("div",{className:"chat-list-item-desc"},this.props.desc)),r.a.createElement("div",{className:"chat-list-item-details"},r.a.createElement("div",{className:"chat-list-item-time"},this.getStatusWithTimestamp()),this.props.unreadMsgCount>0?r.a.createElement("div",{className:"chat-list-item-msg_count"},this.props.unreadMsgCount):null))}}]),t}(r.a.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chat-list-items"},this.props.filteredList.map((function(t){return r.a.createElement(j,{key:t.id,id:t.id,avatar:t.avatar,desc:t.desc,name:t.name,time:t.lastSeen,unreadMsgCount:t.messageCount,currentChatId:e.props.currentChatId,updateCurrentChat:function(){e.props.updateCurrentChat(t.id)}})})))}}]),t}(r.a.Component),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={search:""},a.onSearch=function(e){a.setState({search:e})},a.getFilteredList=function(){return a.props.chat.list.filter((function(e){return e.name.includes(a.state.search)})).map((function(e){return{avatar:e.avatar,name:e.name,id:e.id,messageCount:e.unread,lastSeen:e.lastSeen,desc:function(){var t=e.messages,a=t[t.length-1],n=null;return 0===a.read?n=r.a.createElement("i",{className:"far fa-clock"}," "):1===a.read?n=r.a.createElement("i",{className:"fas fa-check"}," "):2===a.read&&(n=r.a.createElement("i",{className:"fas fa-check-double"}," ")),"text"===a.type?r.a.createElement("span",null,0===a.by&&r.a.createElement("div",{className:"chat-message_delivery_status"},n),a.data):"image"===a.type?r.a.createElement("span",null,0===a.by&&n,r.a.createElement("i",{className:"far fa-file-image"}," ")," image"):"video"===a.type?r.a.createElement("span",null,0===a.by&&n,r.a.createElement("i",{className:"far fa-file-video"}," ")," video"):void 0}()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"chat-list"},r.a.createElement(C,{onSearch:this.onSearch}),r.a.createElement(O,{filteredList:this.getFilteredList(),currentChatId:this.props.chat.currentChatId,updateCurrentChat:this.props.updateCurrentChat}))}}]),t}(r.a.Component),S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).getStatusWithTimestamp=function(){var e=a.props.time;return new Date(e).toDateString()},a.getOnlineStatus=function(){var e=a.props.time;return Date.now()-e<5e3},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){e.forceUpdate()}),2500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("div",{className:"chat-header"},r.a.createElement("div",{className:"chat-list-item-image"},r.a.createElement("img",{src:this.props.avatar,alt:""}),this.getOnlineStatus()?r.a.createElement(v,{size:"8",position:"bottom-right",color:"lawngreen"}):null),r.a.createElement("div",{className:"chat-list-item-info"},r.a.createElement("div",{className:"chat-list-item-name"},this.props.name),r.a.createElement("div",{className:"chat-list-item-desc"},this.getStatusWithTimestamp())),r.a.createElement("div",{className:"chat-close",onClick:this.props.closeCurrentChat},r.a.createElement("i",{className:"fas fa-times"}," ")))}}]),t}(r.a.Component),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).showFullScreen=function(){var e=a.props.message;"image"===e.type?a.context.showFullScreen(e.data.image,"image"):"video"===e.type&&a.context.showFullScreen(e.data.video,"video")},a.getTime=function(){var e=a.props.message.time,t=new Date(e);return"".concat(t.getHours(),":").concat(t.getMinutes())},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.message,t=null;"text"===e.type?t=e.data:"image"===e.type?t=r.a.createElement("div",null,r.a.createElement("div",{className:"chat-line-image",onClick:this.showFullScreen},r.a.createElement("img",{src:e.data.image,alt:""})),e.data.caption):"video"===e.type&&(t=r.a.createElement("div",null,r.a.createElement("div",{className:"chat-line-video",onClick:this.showFullScreen},r.a.createElement("img",{src:e.data.thumbnail,alt:""}),r.a.createElement("div",{className:"chat-video-play-icon"},r.a.createElement("i",{className:"fa fa-play"}," "))),e.data.caption));var a=0===e.by?"me":"you",n=null;return 0===e.read?n=r.a.createElement("i",{className:"far fa-clock"}," "):1===e.read?n=r.a.createElement("i",{className:"fas fa-check"}," "):2===e.read&&(n=r.a.createElement("i",{className:"fas fa-check-double"}," ")),r.a.createElement("div",{className:"chat-line"},r.a.createElement("div",{className:"chat-line-wrapper ".concat(a)},"group"===this.props.chatType&&0!==e.by&&r.a.createElement("div",{className:"chat-message_by ".concat(a)},e.by),t,r.a.createElement("div",{className:"chat-message-time ".concat(a)},this.getTime(),"me"===a&&r.a.createElement("div",{className:"chat-message_delivery_status"},n))))}}]),t}(r.a.Component);w.contextTypes={showFullScreen:g.a.func},w.defaultProps={by:0};var k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).loadPreviousChat=function(){a.previousChatUpdate=!0,a.props.loadPreviousChat(a.props.currentChatId)},a.createMessagesWithDateObjects=function(){for(var e=a.props.messages,t=[],n=0,r=0;r<e.length;r++){var s=new Date(e[r].time);!e[r].time||0!==n&&n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()&&n.getDate()===s.getDate()||(t.push({dateMarker:e[r].time}),n=s),t.push(e[r])}return t},a.getDate=function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth(),"/").concat(t.getFullYear())},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.unreadPointer?e.unreadPointer.scrollIntoView({behavior:"smooth"}):e.endPointer.scrollIntoView({behavior:"smooth"})}),1e3/60)}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;this.previousChatUpdate||setTimeout((function(){n.unreadPointer?n.unreadPointer.scrollIntoView({behavior:"smooth"}):n.endPointer.scrollIntoView({behavior:"smooth"})}),1e3/60),this.previousChatUpdate=!1}},{key:"UNSAFE_componentWillUpdate",value:function(e,t,a){this.unreadPointer&&this.props.removeUnreadPointer(this.props.currentChatId)}},{key:"componentWillUnmount",value:function(){this.unreadPointer&&this.props.removeUnreadPointer(this.props.currentChatId)}},{key:"render",value:function(){var e=this,t=this.createMessagesWithDateObjects();return r.a.createElement("div",{className:"chat-content"},this.props.hasPreviousChat&&r.a.createElement("div",{className:"chat-load_previous",onClick:this.loadPreviousChat},"Load Previous"),t.map((function(t){return t.unreadPointer?r.a.createElement("div",{key:"unreadPointer",className:"chat-unread_messages",ref:function(t){e.unreadPointer=t}},"Unread Messages"):t.dateMarker?r.a.createElement("div",{key:"Date-".concat(t.dateMarker),className:"chat-date_marker"},e.getDate(t.dateMarker)):r.a.createElement(w,{message:t,key:t.id,chatType:e.props.chatType})})),r.a.createElement("div",{ref:function(t){e.endPointer=t}}))}}]),t}(r.a.Component),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={showEmojiPanel:!1},a.toggleEmojiPanel=function(){a.setState({showEmojiPanel:!a.state.showEmojiPanel})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onEmojiSelect,a=Object(d.a)(e,["onEmojiSelect"]);return r.a.createElement("span",{style:{position:"relative"}},r.a.createElement("button",Object.assign({className:"emoji",onClick:this.toggleEmojiPanel},a),this.props.children),this.state.showEmojiPanel?r.a.createElement(b.a,{set:"google",style:{position:"absolute",bottom:"30px",right:"0"},onSelect:t}):null)}}]),t}(r.a.Component),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={message:"",type:""},a.onMessageInput=function(e){var t=e.target.value;a.setState({message:t,type:"text"})},a.onMessageSubmit=function(e){if(e.preventDefault(),""!==a.state.message){var t=a.props.updateMessage,n={data:a.state.message,type:a.state.type,id:E.a.v4(),by:0,time:Date.now(),read:0};a.setState({message:"",type:""}),t(n)}},a.emojiUpdate=function(e){a.setState({message:a.state.message+e.native,type:"text"}),a.messageInput.focus()},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.onMessageSubmit},r.a.createElement("div",{className:"chat-input"},r.a.createElement("input",{type:"text",onChange:this.onMessageInput,value:this.state.message,ref:function(t){return e.messageInput=t}}),r.a.createElement("button",{type:"submit",className:"button"},r.a.createElement("i",{className:"far fa-paper-plane"}," ")),r.a.createElement("button",{type:"button",className:"button"},r.a.createElement("i",{className:"fas fa-paperclip"}," ")),r.a.createElement(P,{type:"button",className:"button",onEmojiSelect:this.emojiUpdate},r.a.createElement("i",{className:"far fa-smile"}," "))))}}]),t}(r.a.Component),I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).updateMessage=function(e){var t=a.props.chat.currentChatId;a.props.updateMessage(t,e)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.chat.currentChatId,t=this.props.chat.list.find((function(t){return t.id===e}));return r.a.createElement("div",{className:"chat-body"},e?r.a.createElement("span",null,r.a.createElement(S,{name:t.name,time:t.lastSeen,avatar:t.avatar,closeCurrentChat:this.props.closeCurrentChat}),r.a.createElement(k,{hasPreviousChat:t.hasPreviousChat,currentChatId:e,messages:t.messages,removeUnreadPointer:this.props.removeUnreadPointer,loadPreviousChat:this.props.loadPreviousChat,chatType:t.chatType}),r.a.createElement(M,{updateMessage:this.updateMessage})):null)}}]),t}(r.a.Component),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).updateCurrentChat=function(e){a.props.updateCurrentChat(e)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"chat"},r.a.createElement(N,{chat:this.props.chat,updateCurrentChat:this.updateCurrentChat}),r.a.createElement(I,{chat:this.props.chat,updateMessage:this.props.updateMessage,closeCurrentChat:this.props.closeCurrentChat,removeUnreadPointer:this.props.removeUnreadPointer,loadPreviousChat:this.props.loadPreviousChat}))}}]),t}(r.a.Component),D=(a(109),a(62)),F=a.n(D),U=(a(115),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={content:null,type:null,isFullScreen:!1},a.showFullScreen=function(e,t){a.setState({content:e,type:t,isFullScreen:!0})},a.hideFullScreen=function(){a.setState({content:null,type:null,isFullScreen:!1})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getChildContext",value:function(){return{showFullScreen:this.showFullScreen}}},{key:"render",value:function(){var e=this.props.children,t=null;return this.state.isFullScreen&&("image"===this.state.type?t=r.a.createElement("div",{className:"image-view"},r.a.createElement("img",{src:this.state.content,alt:"view"})):"video"===this.state.type&&(t=r.a.createElement("div",{className:"image-view"},r.a.createElement(F.a,{url:this.state.content,controls:!0,playing:!0,width:"100%",height:"100%"})))),r.a.createElement("div",null,e,this.state.isFullScreen?r.a.createElement("div",{className:"full-screen"},r.a.createElement("div",{className:"exit",onClick:this.hideFullScreen},"\xd7"),r.a.createElement("div",{className:"content centered"},t)):null)}}]),t}(r.a.Component));U.childContextTypes={showFullScreen:g.a.func};var A=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={chat:{list:[{id:1,name:"Vishal",avatar:a(58),messages:[{id:1,by:"you",data:"222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",time:1,type:"text"},{id:2,by:0,data:"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",time:2,type:"text",read:0},{id:3,by:0,data:"Hello",time:3,type:"text",read:1},{id:4,by:"you",data:"Hi",time:4,type:"text"},{unreadPointer:!0},{id:5,by:0,data:{image:a(35),caption:"Another Caption for image"},time:5,type:"image",read:2},{id:7,by:"you",data:{thumbnail:a(35),video:a(116),caption:"Avengers End Game"},type:"video",time:6},{id:6,by:0,data:{image:a(35),caption:"A best Avatar Caption"},type:"image",time:7}],lastSeen:Date.now(),unread:3,hasPreviousChat:!0,chatType:"group"},{id:2,name:"Vishnu",avatar:a(58),messages:[{id:1,by:0,data:"Hello",time:1,type:"text"},{id:2,by:"you",data:"Hi",time:2,type:"text"},{id:3,by:0,data:"Hello",time:3,type:"text"},{id:4,by:"you",data:"Hi",time:4,type:"text"}],lastSeen:2,unread:0,hasPreviousChat:!1,chatType:"individual"}],currentChatId:null}},n.updateCurrentChat=function(e){n.setState((function(t){return{chat:Object(o.a)({},t.chat,{currentChatId:e,list:t.chat.list.map((function(t){return t.id===e?Object(o.a)({},t,{unread:0}):t}))})}}))},n.removeUnreadPointer=function(e){n.setState((function(t){return{chat:Object(o.a)({},t.chat,{list:t.chat.list.map((function(t){return t.id===e?Object(o.a)({},t,{messages:t.messages.filter((function(e){return!0!==e.unreadPointer}))}):t}))})}}))},n.closeCurrentChat=function(){n.setState({chat:Object(o.a)({},n.state.chat,{currentChatId:null})})},n.loadPreviousChat=function(e){n.setState((function(t){return{chat:Object(o.a)({},t.chat,{list:t.chat.list.map((function(t){return t.id===e?Object(o.a)({},t,{messages:[{id:E.a.v4(),by:0,data:"Previous Message",time:1,type:"text"},{id:E.a.v4(),by:"Arun",data:"Previous Message",time:1,type:"text"}].concat(Object(c.a)(t.messages))}):t}))})}}))},n.updateMessage=function(e,t){var a=t.id;n.setState((function(a){return{chat:Object(o.a)({},a.chat,{list:a.chat.list.map((function(a){return a.id===e?Object(o.a)({},a,{messages:[].concat(Object(c.a)(a.messages),[t])}):a}))})}})),setTimeout((function(){n.setState((function(t){return{chat:Object(o.a)({},t.chat,{list:t.chat.list.map((function(t){return t.id===e?Object(o.a)({},t,{messages:t.messages.map((function(e){return a===e.id?Object(o.a)({},e,{read:1}):e}))}):t}))})}}))}),2500)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(U,null,r.a.createElement("div",{className:"App"},r.a.createElement(x,{chat:this.state.chat,updateCurrentChat:this.updateCurrentChat,closeCurrentChat:this.closeCurrentChat,updateMessage:this.updateMessage,removeUnreadPointer:this.removeUnreadPointer,loadPreviousChat:this.loadPreviousChat})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,a){e.exports=a.p+"static/media/trial.b337d9e6.png"},58:function(e,t,a){e.exports=a.p+"static/media/Avatar.037763eb.png"},65:function(e,t,a){e.exports=a(117)},70:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.12840fd6.chunk.js.map